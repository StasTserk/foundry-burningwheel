<form class="dialog">
    <h2>{{name}}</h2>
    {{#if showObstacles}}
    <div class="flex-row">
        <hr class="dialog-section-before"><div class="dialog-section-text">Difficulty</div><hr class="dialog-section-after">
        <div class="flex-row dialog-row">
            <label>Difficulty</label>
            <input type="number" class="exponent" name="difficulty" value="{{difficulty}}">
        </div>
    </div>
    {{/if}}
    <div class="flex-row">
        <hr class="dialog-section-before"><div class="dialog-section-text">Dice</div><hr class="dialog-section-after">
        <div class="flex-row dialog-row">
            <label>Exponent</label>
            <input type="number" class="exponent" disabled name="stat.exp" value="{{stat.exp}}">
        </div>
        {{#if circlesContact}}
        <div class="flex-row dialog-row">
            <label>Relationship Bonus</label>
            <input type="number" class="exponent" disabled value="1">
        </div>
        {{/if}}
        <div class="flex-row dialog-row">
            <label>Bonus Dice</label>
            <input type="number" class="exponent" name="bonusDice" value="{{bonusDice}}">
        </div>
        <div class="flex-row dialog-row">
            <label>Artha Dice</label>
            <input type="number" class="exponent" name="arthaDice" value="{{arthaDice}}">
        </div>
    </div>
    {{#if circlesBonus}}
    <div class="flex-row">
        <hr class="dialog-section-before"><div class="dialog-section-text">Reputations & Affiliations</div><hr class="dialog-section-after">    
        <div class="checkbox-grid">
            {{#each circlesBonus as |b|}}
                <input id="checkbox-{{@key}}-{{slugify b.name}}" type="checkbox" name="circlesBonus" value="{{b.amount}}" data-name="{{b.name}}">
                <label for="checkbox-{{@key}}-{{slugify b.name}}">{{b.name}}</label>
            {{/each}}
        </div>
    </div>
    {{/if}}
    {{#if circlesMalus}}
    <div class="flex-row">
        <hr class="dialog-section-before"><div class="dialog-section-text">Infamies</div><hr class="dialog-section-after">
        <div class="checkbox-grid">
            {{#each circlesMalus as |b|}}
                <input id="checkbox-{{@key}}-{{slugify b.name}}" type="checkbox" name="circlesMalus" value="{{b.amount}}" data-name="{{b.name}}">
                <label for="checkbox-{{@key}}-{{slugify b.name}}">{{b.name}}</label>
            {{/each}}
        </div>
    </div>
    {{/if}}
    {{#if optionalDiceModifiers}}
    <div class="flex-row">
        <hr class="dialog-section-before"><div class="dialog-section-text">Optional Dice Modifiers</div><hr class="dialog-section-after">
        <div class="checkbox-grid">
            {{#each optionalDiceModifiers as |mod|}}
            <input id="checkbox-{{@key}}-die" type="checkbox" name="miscDice" value="{{mod.dice}}" data-name="{{mod.label}}">
            <label for="checkbox-{{@key}}-die">{{mod.label}}</label>
            {{/each}}
        </div>
    </div>
    {{/if}}
    {{#if optionalObModifiers}}
    <div class="flex-row">
        <hr class="dialog-section-before"><div class="dialog-section-text">Optional Obstacle Modifiers</div><hr class="dialog-section-after">
        <div class="checkbox-grid">
            {{#each optionalObModifiers as |mod|}}
            <input id="checkbox-{{@key}}-ob" type="checkbox" name="miscObs" value="{{mod.obstacle}}" data-name="{{mod.label}}">
            <label for="checkbox-{{@key}}-ob">{{mod.label}}</label>
            {{/each}}
        </div>
    </div>
    {{/if}}
</form>